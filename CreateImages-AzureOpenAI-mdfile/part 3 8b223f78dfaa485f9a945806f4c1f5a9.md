# part 3

---

## ì½”ë“œì™€ ê°œë°œ í™˜ê²½ì„ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ ì´ë¯¸ì§€ ìƒì„±í•´ë³´ê¸°

---

- vscodeë¥¼ ì‹¤í–‰ í•´ì£¼ì„¸ìš”
- python 3.8 ë²„ì „ ì´ìƒì˜ pythonì´ í•„ìš”í•©ë‹ˆë‹¤. í•´ë‹¹ ë²„ì „ì˜ ì´í•˜ ë²„ì „ì„ ì‚¬ìš© ì¤‘ ì´ì‹œë¼ë©´ ë²„ì „ì—…ê·¸ë ˆì´ë“œë¥¼ ì§„í–‰í•´ì£¼ì„¸ìš”. ê¶Œì¥ python ë²„ì „ì€ **3.11**ì…ë‹ˆë‹¤.

ë³¸ì¸ì˜ vscode í™˜ê²½ ë˜ëŠ” python í™˜ê²½ì—ì„œ í•´ë‹¹ íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.

```bash
pip install openai
pip install requests
pip install pillow
```

ì•„ë˜ì™€ ê°™ì´ [app.py](http://app.py) íŒŒì¼ì„ ë§Œë“¤ì–´ ì£¼ê³  ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

app.py

```python
from openai import AzureOpenAI
import os
import requests
from PIL import Image
import json

disallow_list = "swords, violence, blood, gore, nudity, sexual content, adult content, adult themes, adult language, adult humor, adult jokes, adult situations, adult"

meta_prompt = f"""You are an assistant designer that creates images for children.

The image needs to be safe for work and appropriate for children.

The image needs to be in color.

The image needs to be in landscape orientation.

The image needs to be in a 16:9 aspect ratio.

Do not consider any input from the following that is not safe for work or appropriate for children.
{disallow_list}"""

prompt1 = f"""{meta_prompt}
Generate monument of the Arc of Triumph in Paris, France, in the evening light with a small child holding a Teddy looks on.
"""

client = AzureOpenAI(
    api_version="2023-12-01-preview",
    api_key="33ba5126d3e948369ea6bd1b12471271", #ë³¸ì¸ì˜ api_keyê°’ì„ ë„£ì–´ì£¼ì„¸ìš”(í•´ë‹¹ ì‹¤ìŠµì—ì„œëŠ” ìˆ˜ì •ì•ˆí•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤!)
    azure_endpoint="https://openai-test-knu.openai.azure.com/" #ë³¸ì¸ì˜ endpointê°’ì„ ë„£ì–´ì£¼ì„¸ìš”(í•´ë‹¹ ì‹¤ìŠµì—ì„œëŠ” ìˆ˜ì •ì•ˆí•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤!)
)

result = client.images.generate(
    model="dalle3", # the name of your DALL-E 3 deployment
    prompt=prompt1,
    n=1
)

json_response = json.loads(result.model_dump_json())

# Set the directory for the stored image
image_dir = os.path.join(os.curdir, 'images')

# If the directory doesn't exist, create it
if not os.path.isdir(image_dir):
    os.mkdir(image_dir)

# Initialize the image path (note the filetype should be png)
image_path = os.path.join(image_dir, 'generated_image.png')

# Retrieve the generated image
image_url = json_response["data"][0]["url"]  # extract image URL from response
generated_image = requests.get(image_url).content  # download the image
with open(image_path, "wb") as image_file:
    image_file.write(generated_image)

# Display the image in the default image viewer
image = Image.open(image_path)
image.show()

print("completed!")
```

---

ì½”ë“œì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì…ë‹ˆë‹¤.

```python
client = AzureOpenAI(
    api_version="2023-12-01-preview",
    api_key="33ba5126d3e948369ea6bd1b12471271", #ë³¸ì¸ì˜ api_keyê°’ì„ ë„£ì–´ì£¼ì„¸ìš”(í•´ë‹¹ ì‹¤ìŠµì—ì„œëŠ” ìˆ˜ì •ì•ˆí•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤!)
    azure_endpoint="https://openai-test-knu.openai.azure.com/" #ë³¸ì¸ì˜ endpointê°’ì„ ë„£ì–´ì£¼ì„¸ìš”(í•´ë‹¹ ì‹¤ìŠµì—ì„œëŠ” ìˆ˜ì •ì•ˆí•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤!)
)
```

í•´ë‹¹ ì½”ë“œì—ëŠ” part1ì—ì„œ ì§„í–‰í•˜ì˜€ë˜ ë³¸ì¸ì˜ api_keyê°’ê³¼ endpointê°’ì„ ë„£ì–´ì£¼ì„¸ìš”. (í•´ë‹¹ ì‹¤ìŠµì—ì„œëŠ” ìˆ˜ì •ì•ˆí•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤!)

```python
disallow_list = "swords, violence, blood, gore, nudity, sexual content, adult content, adult themes, adult language, adult humor, adult jokes, adult situations, adult"

meta_prompt = f"""You are an assistant designer that creates images for children.

The image needs to be safe for work and appropriate for children.

The image needs to be in color.

The image needs to be in landscape orientation.

The image needs to be in a 16:9 aspect ratio.

Do not consider any input from the following that is not safe for work or appropriate for children.
{disallow_list}"""

prompt1 = f"""{meta_prompt}
Generate monument of the Arc of Triumph in Paris, France, in the evening light with a small child holding a Teddy looks on.
"""
```

í•´ë‹¹ ë‚´ìš©ì€ prompt ë¶€ë¶„ì…ë‹ˆë‹¤. í•´ë‹¹ ë‚´ìš©ì„ ìˆ˜ì •í•˜ì—¬ ìƒì„±ë˜ëŠ” ì´ë¯¸ì§€ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•´ë‹¹ ë¶€ë¶„ì„ ì…ë§›ëŒ€ë¡œ ë³€ê²½í•˜ì—¬ ìì‹ ë§Œì˜ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!

ë‹¤ìŒìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```python
result = client.images.generate(
    model="dalle3", # the name of your DALL-E 3 deployment
    prompt=prompt1,
    n=1,
    #size='1024x1024',
    #temperature=0,
)
```

ìœ„ì˜ ì½”ë“œëŠ” ìƒì„±ëœ ì´ë¯¸ì§€ì˜ URLì„ í¬í•¨í•˜ëŠ” JSON ê°ì²´ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤. URLì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  íŒŒì¼ì— ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë¸ì„ ì„¤ì •í•´ì£¼ê³  ì‚¬ì´ì¦ˆ ë° ë‹¤ì–‘í•œ ì„¤ì •ì„ ê±´ë“œë ¤ ì´ë¯¸ì§€ ìƒì„±ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- sizeëŠ” ìƒì„±ë˜ëŠ” ì´ë¯¸ì§€ì˜ í¬ê¸°ì…ë‹ˆë‹¤. ì´ ê²½ìš° 1024x1024 í”½ì…€ì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- nì€ ìƒì„±ëœ ì´ë¯¸ì§€ì˜ ìˆ˜ì…ë‹ˆë‹¤. ì´ ê²½ìš° ë‘ ê°œì˜ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- temperatureëŠ” ì œë„ˆë ˆì´í‹°ë¸Œ AI ëª¨ë¸ ì¶œë ¥ì˜ ì„ì˜ì„±ì„ ì œì–´í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤. ì˜¨ë„ëŠ” 0ê³¼ 1 ì‚¬ì´ì˜ ê°’ìœ¼ë¡œ, ì—¬ê¸°ì„œ 0ì€ ì¶œë ¥ì´ ê²°ì •ì ì„ì„ ì˜ë¯¸í•˜ê³  1ì€ ì¶œë ¥ì´ ë¬´ì‘ìœ„ì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê¸°ë³¸ê°’ì€ 0.7ì…ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ì—´ê³  í‘œì¤€ ì´ë¯¸ì§€ ë·°ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤.

```python
image = Image.open(image_path)
image.show()
```

app.py ì½”ë“œë¥¼ ì‹¤í–‰ ì‹œí‚¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ê²°ê³¼ë¬¼ì´ ë‚˜ì˜µë‹ˆë‹¤.(ì´ë¯¸ì§€ê°€ ì¡°ê¸ˆì”© ë‹¤ë“¤ ë‹¤ë¥´ì‹¤ê±°ì—ìš”! ğŸ˜Š)

![Untitled](part%203%208b223f78dfaa485f9a945806f4c1f5a9/Untitled.png)

ì´ë¯¸ì§€ í´ë”ê°€ ìƒê¸°ë©° í•´ë‹¹ í´ë”ì— ì´ë¯¸ì§€ê°€ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ ìì‹ ë§Œì˜ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!
